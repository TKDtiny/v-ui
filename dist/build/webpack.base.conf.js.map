{"version":3,"sources":["../../build/webpack.base.conf.js"],"names":["path","require","fs","utils","config","vueLoaderConfig","glob","entries","getEntry","resolve","dir","join","__dirname","module","exports","entry","externals","output","build","assetsRoot","filename","publicPath","process","env","NODE_ENV","assetsPublicPath","dev","extensions","alias","symlinks","rules","test","loader","options","include","limit","name","assetsPath","globPath","basename","tmp","pathname","forEach","itemPath","sync","extname","split","length","splice"],"mappings":"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","file":"webpack.base.conf.js","sourcesContent":["var path = require('path')\r\nvar fs = require('fs')\r\nvar utils = require('./utils')\r\nvar config = require('../config')\r\nvar vueLoaderConfig = require('./vue-loader.conf')\r\n//引入\r\nvar glob = require('glob');\r\n//获取对象，匹配./src/module/xxx.js和./src/module/xxx/xxx.js  多个引入  替换默认生成的{”App“:{\"./src/main.js\"}}\r\n//在文件底部添加getEntry方法  参数是对应js所在目录数组，可以多个\r\nvar entries = getEntry(['./src/module/*.js', './src/module/**/*.js']); // 获得入口js文件\r\nfunction resolve(dir) {\r\n    return path.join(__dirname, '..', dir)\r\n}\r\n\r\nmodule.exports = {\r\n    entry: entries,\r\n    externals: {\r\n        'AMap': 'AMap'\r\n    },\r\n    output: {\r\n        path: config.build.assetsRoot,\r\n        filename: '[name].js',\r\n\r\n        publicPath: process.env.NODE_ENV === 'production'\r\n            ? config.build.assetsPublicPath\r\n            : config.dev.assetsPublicPath\r\n    },\r\n\r\n    resolve: {\r\n        extensions: ['.js', '.vue', '.json'],\r\n\r\n        alias: {\r\n            'vue$': 'vue/dist/vue.esm.js',\r\n            '@': resolve('src'),\r\n            'components': path.resolve(__dirname, \"../src/components\"),//配置一个别名\r\n            'common': path.resolve(__dirname, \"../src/common\")//配置一个别名\r\n        },\r\n        symlinks: false\r\n    },\r\n    module: {\r\n        rules: [\r\n            {\r\n                test: /\\.vue$/,\r\n                loader: 'vue-loader',\r\n                options: vueLoaderConfig\r\n            },\r\n            {\r\n                test: /\\.js$/,\r\n                loader: 'babel-loader',\r\n                include: [resolve('src'), resolve('test')]\r\n            },\r\n            {\r\n                test: /\\.(png|jpe?g|gif|svg)(\\?.*)?$/,\r\n                loader: 'url-loader',\r\n                options: {\r\n                    limit: 30000,\r\n                    name: utils.assetsPath('img/[name].[hash:7].[ext]')\r\n                }\r\n            },\r\n            {\r\n                test: /\\.(mp4|webm|ogg|mp3|wav|flac|aac)(\\?.*)?$/,\r\n                loader: 'url-loader',\r\n                options: {\r\n                    limit: 10000,\r\n                    name: utils.assetsPath('media/[name].[hash:7].[ext]')\r\n                }\r\n            },\r\n            {\r\n                test: /\\.(woff2?|eot|ttf|otf)(\\?.*)?$/,\r\n                loader: 'url-loader',\r\n                options: {\r\n                    limit: 10000,\r\n                    name: utils.assetsPath('fonts/[name].[hash:7].[ext]')\r\n                }\r\n            }\r\n        ]\r\n    }\r\n}\r\n\r\nfunction getEntry(globPath) {\r\n\r\n    var entries = {},\r\n        basename, tmp, pathname;\r\n    if (typeof (globPath) != \"object\") {\r\n        globPath = [globPath]\r\n    }\r\n\r\n    globPath.forEach((itemPath) => {\r\n        glob.sync(itemPath).forEach(function (entry) {\r\n            basename = path.basename(entry, path.extname(entry));\r\n            if (entry.split('/').length > 4) {\r\n                tmp = entry.split('/').splice(-3);\r\n                pathname = tmp.splice(0, 1) + '/' + basename; // 正确输出js和html的路径\r\n                entries[`${pathname}`] = entry;\r\n            } else {\r\n                pathname = \"/\" + basename;\r\n                entries[basename] = entry;\r\n            }\r\n        });\r\n    });\r\n\r\n    return entries;\r\n}\r\n"]}